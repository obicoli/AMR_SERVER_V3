import{datasetFactory}from"@fusioncharts/core/src/lib";import SunburstDataset from"../dataset/sunburst";var depthFirstVisit=function depthFirstVisit(arr){var sumOfVisit=0;arr.forEach((function(c){var givenValue=c.value?+c.value:0,applicableValue=c.category.length>0?depthFirstVisit(c.category):givenValue;if(applicableValue>givenValue){c.value=applicableValue}else{c.value=givenValue;applicableValue=givenValue}sumOfVisit+=applicableValue}));return sumOfVisit};export default function(chart){var categories=chart.getFromEnv("parsedDataSource")||[],length;categories.forEach((function depthFirstVisitRunner(e){var sum=depthFirstVisit(e.category);!e.value&&(e.value=0);if(sum>+e.value){e.value=sum}}));chart.config.categories=categories;length=categories.length;if(!length){chart.setChartMessage();return}datasetFactory(chart,SunburstDataset,"dataset",length,[{inputTree:categories}])}