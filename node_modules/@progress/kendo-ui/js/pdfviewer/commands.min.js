module.exports=function(e){function i(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}var t={};return i.m=e,i.c=t,i.p="",i(0)}({0:function(e,i,t){t(1482),e.exports=t(1482)},3:function(e,i){e.exports=function(){throw Error("define cannot be used indirect")}},1482:function(e,i,t){var o,r,n;!function(a,define){r=[t(1483)],o=a,n="function"==typeof o?o.apply(i,r):o,!(void 0!==n&&(e.exports=n))}(function(){return function(e,i){var t=window.kendo,o=e.proxy,r=e.extend,n=e.parseJSON,a=t.ui.progress,s=t.Class,c="open",l="zoomStart",d="zoomEnd",h=s.extend({init:function(e){this.options=e,this.viewer=e.viewer,this.errorMessages=this.viewer.options.messages.errorMessages}}),p=h.extend({init:function(e){h.fn.init.call(this,e),this.upload=this.viewer.processor.upload},exec:function(){(this.viewer._upload||this._initUpload()).element.click()},_initUpload:function(){var i,t={select:o(this._onSelect,this),success:o(this._onSuccess,this),error:o(this._onError,this),complete:o(this._onComplete,this),showFileList:!1,multiple:!1,validation:{allowedExtensions:[".pdf"]}};return this.upload&&r(t,{async:{saveUrl:this.upload.url,autoUpload:!0,saveField:this.upload.saveField}}),i=e('<input name="files" accept=".pdf" type="file" />').kendoUpload(t).getKendoUpload(),this.viewer._upload=i,i},_onComplete:function(){a(this.viewer.pageContainer,!1)},_onSuccess:function(i){var t=n(i.response);e.isPlainObject(t)?this.viewer.processor.fromJSON(t):this.viewer._triggerError({error:t,message:this.errorMessages.parseError})},_onError:function(e){this.viewer._triggerError({error:e.XMLHttpRequest.responseText,message:this.errorMessages.notSupported})},_onSelect:function(e){var t,o=this,r=e.files[0];if(a(o.viewer.pageContainer,!0),!o.viewer.trigger(c,{file:r})&&!o.upload){if(".pdf"!==r.extension.toLowerCase())return o.viewer._triggerError({error:r,message:o.errorMessages.notSupported}),i;t=new FileReader,t.onload=function(e){var i=e.target.result;o.viewer.fromFile(i)},t.onerror=function(){o.viewer._triggerError({error:r,message:o.errorMessages.parseError})},t.readAsArrayBuffer(r.rawFile)}}}),u=h.extend({exec:function(){var e=this.options.value;this.viewer.activatePage(e)}}),g=h.extend({exec:function(){if(!this.viewer.document)return this.viewer._triggerError({message:this.errorMessages.notFound}),i;var e=this.viewer.document.info&&this.viewer.document.info.title||this.viewer.options.messages.defaultFileName;this.viewer.processor.downloadFile(e)}}),v=h.extend({init:function(i){i=e.extend(i,this.options),h.fn.init.call(this,i)},exec:function(){var e=this.viewer._saveDialog||this._initDialog();e._updateModel({pagesCount:this.viewer.document&&this.viewer.document.total||1,page:this.viewer.options.page}),e.open()},apply:function(e){var i=e.extension;".png"===i?this.viewer.exportImage(e):".svg"===i&&this.viewer.exportSVG(e)},_initDialog:function(){return this.viewer._saveDialog=new t.pdfviewer.dialogs.ExportAsDialog({apply:this.apply.bind(this),pagesCount:this.viewer.document&&this.viewer.document.total||1,messages:this.viewer.options.messages})}}),w=h.extend({exec:function(){var e=this,i=e.viewer;i._toggleSelection(!0)}}),m=h.extend({exec:function(){var e=this,i=e.viewer;i._toggleSelection(!1)}}),f=h.extend({init:function(e){var i=this;i.viewer=e.viewer,i.viewer.searchDialog||(i.viewer.searchDialog=new t.pdfviewer.dialogs.SearchDialog({position:{top:i.viewer.pageContainer.offset().top,left:i.viewer.pageContainer.offset().left},messages:i.viewer.options.messages.dialogs.search,open:o(i._open,i),next:o(i._next,i),prev:o(i._prev,i),close:o(i._close,i)})),h.fn.init.call(i,e)},exec:function(){var e=this;e.viewer.searchDialog.open()},_open:function(){var e=this;e.changeHandler=o(e._change,e),e.zoomStartHandler=o(e._closeDialog,e),e.openFileHandler=o(e._closeDialog,e),e.viewer._searchDOM||(e.viewer._initSearchDOM(),e.viewer.searchDialog.searchModel.bind("change",e.changeHandler),e.viewer.bind("zoomStart",e.zoomStartHandler),e.viewer.bind("open",e.openFileHandler))},_close:function(){var e=this,i=e.viewer._searchDOM;e.viewer.searchDialog.searchModel.unbind("change",e.changeHandler),e.viewer.unbind("zoomStart",e.zoomStartHandler),e.viewer.unbind("open",e.openFileHandler),i.destroy(),delete e.viewer._searchDOM,e._updateSearchModel()},_change:function(e){var i=this,t=i.viewer._searchDOM,o=e.field,r=i.viewer.searchDialog.searchModel,n=r[o];if(t)switch(o){case"searchText":t.search(n,r.matchCase),i._updateSearchModel();break;case"matchCase":t.search(r.searchText,n),i._updateSearchModel()}},_next:function(){var e=this,i=e.viewer._searchDOM;i.matches&&i.matches.length&&(i.nextMatch(),e._updateSearchModel())},_prev:function(){var e=this,i=e.viewer._searchDOM;i.matches&&i.matches.length&&(i.previousMatch(),e._updateSearchModel())},_updateSearchModel:function(){var e=this,i=e.viewer._searchDOM,t=e.viewer.searchDialog.searchModel;i?(t.set("matches",i.matches.length),t.set("matchIndex",i.getMarkedIndex()),e._scrollToMark()):(t.set("searchText",""),t.set("matches",0),t.set("matchIndex",0),t.set("matchCase",!1))},_scrollToMark:function(){var e,i=this,t=i.viewer._searchDOM,o=t.getFirstMarked(),r=i.viewer._scroller;o.length&&(e=o.offset().top-r.scrollElement.offset().top-100,r.scrollTo(r.scrollLeft,e*-1))},_closeDialog:function(){var e=this;e.viewer.searchDialog.dialog.close()}}),_=h.extend({exec:function(){var e,i=this,t=i.options,o=i.viewer,r=t.scale,n=0,a=i.viewer._pageNum,s=o.pageContainer[0].clientHeight,c=1,l=[];"dpl"!==o.processingLib&&(r=i._calculateZoom(),e=function(){var e=i.viewer._scroller,t=o._scrollingStarted;e.scrollTop>e.scrollHeight()&&e._resize(),t||(o.activatePage(a),o._scrollingStarted=!1)},r&&(o.zoomScale=r,o._scrollingStarted=!1,o.pages.forEach(function(e){var i;o._visiblePages.indexOf(e)!==-1&&e.loaded?(l.push(e.render(r)),i=e._page.getViewport({scale:r}).height):(e.resize(r),i=e.element.height()),n+=i,n<=s&&c++}),o._visiblePagesCount!=c&&(o._visiblePagesCount=c,o._loadVisiblePages()),Promise.all(l).then(function(){e(),i._triggerZoomEnd(r)})["catch"](function(){e(),i._triggerZoomEnd(r)})))},_calculateZoom:function(){var e,i=this.options,t=this.viewer,o=t.options,r=t.pageContainer,n=t._visiblePages&&t._visiblePages[0].canvas,a=i.scale,s=a;if(t._allowResize=!1,t._autoFit=!1,i.zoomIn?s=a=t.zoomScale+o.zoomRate:i.zoomOut?s=a=t.zoomScale-o.zoomRate:"auto"===a?(t._allowResize=!0,s=t._autoZoomScale):"actual"===a?s=1:"fitToWidth"===a?(t._allowResize=!0,t._autoFit="fitToWidth",s=r.width()/(n.width/t.zoomScale)):"fitToPage"===a&&(t._allowResize=!0,t._autoFit="fitToPage",s=r.height()/(n.height/t.zoomScale)),e=a<o.zoomMin||a>o.zoomMax,!e&&!t.trigger(l,{scale:a}))return i.updateComboBox&&t.toolbar._updateZoomComboBox(a),s},_triggerZoomEnd:function(e){var i=this,t=i.viewer;t.trigger(d,{scale:e})}}),x=h.extend({init:function(e){h.fn.init.call(this,e)},exec:function(){var e=this;return e.viewer.document?(e._renderPrintContainer(),e._loadAllPages(),i):(e.viewer._triggerError({message:this.errorMessages.notFound}),i)},_renderPrintContainer:function(){this.printContainer=e("<div></div>")},_loadAllPages:function(){var e,i,t,o=this,r=o.viewer.pages,n=o.viewer.zoom(),a=20,s=!0;for(i=0;i<r.length;i++)r[i].loaded||(s=!1,r[i].load(4/3,!0),a+=20);t=function(){clearTimeout(e),e=setTimeout(function(){o.viewer.unbind("render",t),o._renderPrintPages(),setTimeout(function(){o._printDocument(),o.viewer.zoom(n)},0)},a)},s?t():o.viewer.bind("render",t)},_renderPrintPages:function(){var e,i=this.viewer.pages;for(e=0;e<i.length;e++)this._renderPrintImage(i[e])},_renderPrintImage:function(i){var t=i.canvas,o=e("<div></div>"),r="<img src='"+t.toDataURL()+"' width='"+i.width+"px' height='"+i.height+"px' />";o.append(r),this.printContainer.append(o)},_printDocument:function(){var e=this,i=e.viewer.pages,t=i[0].width,o=i[0].height,r=window.open("","","innerWidth="+t+",innerHeight="+o+"location=no,titlebar=no,toolbar=no");r.document.write(e.printContainer.html()),r.document.close(),r.focus(),r.print(),r.close()}});r(t.pdfviewer,{OpenCommand:p,PageChangeCommand:u,DownloadCommand:g,EnableSelectionCommand:w,EnablePanCommand:m,ExportCommand:v,PrintCommand:x,OpenSearchCommand:f,ZoomCommand:_})}(window.kendo.jQuery),window.kendo},t(3))},1483:function(e,i){e.exports=require("../kendo.upload")}});